---
title: 竞赛算法(6) 树上问题
published: 2025-11-26
description: ''
image: ''
tags: []
category: ''
draft: false 
lang: ''
---

## 树的dfs
完美, 简洁, 易于理解. 以维护子树大小为例:

```cpp
int siz[N];
vector<int> adj[N]; // 邻接表存无向边

auto dfs = [&](auto&& self, int x, int p) {
    siz[x] = 1;
    for (const auto& y : adj[x]) {
        if (y == p) continue;
        self(self, y, x);
        siz[x] += siz[y];
    }
};

// 调用
dfs(dfs, root, -1);
```